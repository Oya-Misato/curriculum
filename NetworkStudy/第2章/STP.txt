
問１　冗長構成において、ルートブリッジに該当するスイッチの番号は何か。

　Switch1:32769  Switch2:20481  Switch3:4097  Switch4:8193
　
　【ルートブリッジ】
　ブリッジプライオリティが最も小さいのSwitchがルートブリッジになる
　
　　最も小さいSwitch3がルートブリッジ
　
　
　問２　問1に追加して、全てのポートの役割は何か。また、各回答の理由を併せて明記。
　
　Ethernet 100
　Fast Ethernet 19より
　
　Switch1-Switch2 19
　Switch1-Switch3 100
　Switch2-Switch4 100
　Switch3-Switch4 100
　
　【ルートポート(RP)】
　ルートブリッジに到着するまでのパスコストが一番小さいもの。
　ルートブリッジ以外の各スイッチにおいて、1つのポートがルートポートになる。
　
　ルートブリッジのSwitch３への経路
　・Switch1からのルート
　　1.Switch1-Switch3:100
　　2.Switch1-Switch2-Switch4-Switch3:19+100+100=219
　　1のほうが小さいため、Switch1はF0/2がルートポート
　
　・Switch2からのルート
　　1.Switch2-Switch1-Switch3:19+100=119
　　2.Switch2-Switch4-Switch3:100+100=200
　　1のほうが小さいため、Switch1はF0/1がルートポート
　
　・Switch4からのルート
　　1.Switch4-Switch3:100
　　2.Switch4-Switch2-Switch1-Switch3:100+19+100=219
　　1のほうが小さいため、Switch1はE0/2がルートポート
　
　
　【指定ポート(DP)】
　各コリジョンドメインでルートブリッジに到着するまでのパスコストが一番小さく、１つのポートが指定ポートになる。
　
　ルール
　①ルートブリッジのポートは全て必ず指定ポート。
　②ルートポートの向かいのポートは必ず指定ポートとなる。
　③各コリジョンドメインごとに1つの指定ポートが存在。
　
　①よりSwitch3のE0/1とE0/2は指定ポート
　
　②はSwitch1とSwitch2の間、Switch2とSwitch4の間には役割がないため、このルールは成立しない
　そのため、ルートパスコストを比較して、小さい値のSwitchを指定ポートとする
　
　・Switch1とSwitch2の間の指定ポート
　　1.Switch1からのルート　Switch1-Switch3:100
　　2.Switch2からのルート　Switch2-Switch1-Switch3:19+100=119
　　1のほうが小さいため、Switch1のF0/1が指定ポート
　
　・Switch2とSwitch4の間の指定ポート
　　1.Switch2からのルート　Switch2-Switch1-Switch3:19+100=119
　　2.Switch4らのルート　Switch4-Switch3:100
　　4のほうが小さいため、Switch4のE0/1が指定ポート
　
　上記より各コリジョンドメインごとに１つ指定ポートが存在している(③)
　
　【ブロッキングポート(BP)】
　ルートポート、指定ポートのどちらにも選定されなかったポートになる。
　別名「非指定ポート(NDP)」と呼び、このポートを使用してブロードキャストストームを防いでいる
　
　・ルートポートと指定ポートのどちらにも選定されていないのはSwitch2のF0/2である
　これにより、Switch2のF0/2がブロッキングポート
　
　以上